# Go Kratos Review Service

æœ¬é¡¹ç›®ä½¿ç”¨ [Kratos](https://go-kratos.dev/) å¾®æœåŠ¡æ¡†æ¶å¼€å‘ï¼Œä½œä¸ºç”µå•†è¯„ä»·ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚åŸºäº Q1mi è¯¾ç¨‹è¿›è¡Œå®ç°ã€‚

---

## ğŸ—“ï¸ è¿­ä»£è¿›åº¦
- **ç¬¬ä¸€æ¬¡è¿­ä»£ DDLï¼š2025-09-15**

---

## ğŸš€ æœåŠ¡ç«¯å£

| æœåŠ¡/æ¨¡å—       | åè®®/åŠŸèƒ½         | ç«¯å£å· (å®¿ä¸»æœº) | è¯´æ˜                 |
|----------------|------------------|----------------|--------------------|
| **MySQL**      | æ•°æ®åº“            | 3307           | å…³ç³»å‹æ•°æ®åº“             |
| **Redis**      | ç¼“å­˜/æ¶ˆæ¯é˜Ÿåˆ—      | 6380           | ä½¿ç”¨ 5.0.7 ç‰ˆæœ¬        |
| **review-server** | HTTP / gRPC   | 8482 / 9492    | ä¸šåŠ¡ä¸­å°æœåŠ¡             |
| **review-b**   | HTTP / gRPC      | 8483 / 9493    | å•†å®¶ä¾§æœåŠ¡              |
| **review-o**   | HTTP / gRPC      | 8484 / 9494    | å®¡æ ¸ä¾§æœåŠ¡              |
| **review-job** | HTTP / gRPC      | 8485 / 9495    | å¼‚æ­¥ä»»åŠ¡æœåŠ¡ï¼ˆKafka â†’ ESï¼‰ |
| **Consul**     | Web UI / DNS     | 8500 / 8600udp | æœåŠ¡æ³¨å†Œä¸å‘ç°            |
| **Canal**      | TCP              | 11111          | MySQL binlog è®¢é˜…    |
| **Kafka**      | Broker / å†…å¤–éƒ¨   | 9092 / 29092   | æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡             |
| **Kafka UI**   | Web UI           | 8080           | Kafka ç®¡ç†ç•Œé¢         |
| **Elasticsearch** | REST / Transport | 9200 / 9300 | ES API ä¸é›†ç¾¤é€šä¿¡       |
| **Kibana**     | Web UI           | 5601           | å¯è§†åŒ–ç•Œé¢              |

---

## âš™ï¸ å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨åŸºç¡€ä¾èµ–
```bash
# å¯åŠ¨ MySQL
docker run --name mysql -p 3307:3306 -e MYSQL_ROOT_PASSWORD=root1234 -d mysql

# å¯åŠ¨ Redis
docker run --name redis507 -p 6380:6379 -d redis:5.0.7

# å¯åŠ¨ Consul
docker run -d --name=consul-dev \
  -p 8500:8500 \
  -p 8600:8600/udp \
  hashicorp/consul agent -dev -client=0.0.0.0
```
å…¶ä½™ Kafkaã€Elasticsearchã€Kibana ç­‰æœåŠ¡å¯ä½¿ç”¨æä¾›çš„ docker-compose.yml å¯åŠ¨ã€‚

### 2. å¯åŠ¨æœåŠ¡
è¿›å…¥å¯¹åº”æœåŠ¡ç›®å½•åæ‰§è¡Œï¼š
```bash
kratos run
```

## âœ… éªŒè¯è¿è¡Œ

- ä¸šåŠ¡ä¸­å°ï¼šhttp://127.0.0.1:8482
- å•†å®¶ä¾§ï¼šhttp://127.0.0.1:8483
- å®¡æ ¸ä¾§ï¼šhttp://127.0.0.1:8484
- Kafka UIï¼šhttp://127.0.0.1:8080
- Kibanaï¼šhttp://127.0.0.1:5601
- Consulï¼šhttp://127.0.0.1:8500